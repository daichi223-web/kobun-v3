#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
generate-grammar.py
Generates 25 detailed grammar reference JSON files for kobun-v3.
Usage: python -X utf8 generate-grammar.py
"""
import json
import os

OUT_DIR = os.path.join(os.path.dirname(os.path.abspath(__file__)), "..", "app", "data", "grammar")
os.makedirs(OUT_DIR, exist_ok=True)

GRAMMAR_FILES = [
    # ============================================================
    # 動詞 (Layer 1 - 用言)
    # ============================================================
    {
        "id": "doushi-yodan",
        "title": "四段活用",
        "category": "用言",
        "layer": 1,
        "summary": "古文で最も多い動詞の活用型。未然形がア段になる。",
        "sections": [
            {
                "heading": "四段活用とは",
                "content": "四段活用は古文動詞の中で**最も数が多い活用型**。語幹の後にア・イ・ウ・エの**4つの段**の音が現れることからこの名がある。\n\n現代語の五段活用に対応するが、古文では命令形もエ段なので「四段」と呼ぶ。"
            },
            {
                "heading": "活用表",
                "content": "例: 「書く」（カ行四段）\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| 書**か** | 書**き** | 書**く** | 書**く** | 書**け** | 書**け** |\n\n- 未然形（ア段）: 「ず」「む」などに接続\n- 連用形（イ段）: 「て」「けり」などに接続\n- 終止形（ウ段）: 文末・「べし」などに接続\n- 連体形（ウ段）: 体言・「こと」などに接続\n- 已然形（エ段）: 「ば」「ど」に接続\n- 命令形（エ段）: 命令の文末"
            },
            {
                "heading": "見分け方",
                "content": "動詞に「ず」を付けて**未然形がア段**になれば四段活用。\n\n- 書く → 書か**ず** → ア段 → 四段\n- 思ふ → 思は**ず** → ア段 → 四段\n- 言ふ → 言は**ず** → ア段 → 四段\n\n**注意**: 上二段（イ段）・下二段（エ段）との混同に注意。"
            },
            {
                "heading": "代表的な四段動詞",
                "content": "- **カ行**: 書く・聞く・行く・咲く\n- **サ行**: 出だす・移す\n- **タ行**: 立つ・持つ・打つ\n- **ハ行**: 言ふ・思ふ・笑ふ・給ふ（四段）\n- **マ行**: 読む・住む・頼む\n- **ラ行**: 散る・知る・取る・走る"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s1",
                "tokenId": "s1-t17",
                "excerpt": "\u2026\u3068**\u8a00\u3072**\u3051\u308b\u3092",
                "explanation": "\u300c\u8a00\u3075\u300d\uff08\u30cf\u884c\u56db\u6bb5\uff09\u306e\u9023\u7528\u5f62\u3002\u52a9\u52d5\u8a5e\u300c\u3051\u308a\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u9023\u7528\u5f62\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s5",
                "tokenId": "s5-t14",
                "excerpt": "\u5bb6\u3082**\u7126\u3051**\u306b\u3051\u308a",
                "explanation": "\u300c\u7126\u304f\u300d\uff08\u30ab\u884c\u56db\u6bb5\uff09\u306e\u5df2\u7136\u5f62\u3002\u63a5\u7d9a\u52a9\u8a5e\u300c\u306b\u300d\u306b\u63a5\u7d9a\u3002"
            }
        ]
    },
    {
        "id": "doushi-shimo-nidan",
        "title": "下二段活用",
        "category": "用言",
        "layer": 1,
        "summary": "未然形・連用形がエ段、終止形がウ段になる活用型。",
        "sections": [
            {
                "heading": "下二段活用とは",
                "content": "下二段活用は、活用語尾が**エ段とウ段の2段**にわたる活用型。「下」は五十音図でウ段より**下**のエ段を含むことを意味する。\n\n現代語の下一段活用に対応するものが多い（例: 寝る、受ける）。"
            },
            {
                "heading": "活用表",
                "content": "例: 「受く」（カ行下二段）\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| 受**け** | 受**け** | 受**く** | 受**くる** | 受**くれ** | 受**けよ** |\n\n- 未然形・連用形が**エ段**（同形）\n- 終止形が**ウ段**（四段と異なり連体形と別形）\n- 連体形が**ウル**\n- 命令形が**エヨ**"
            },
            {
                "heading": "見分け方",
                "content": "「ず」を付けて**未然形がエ段**になれば下二段。\n\n- 受く → 受け**ず** → エ段 → 下二段\n- 寝（ぬ） → 寝（ね）**ず** → エ段 → 下二段\n- いらふ → いらへ**ず** → エ段 → 下二段\n\n**重要**: 終止形と連体形が**異なる**のが四段との大きな違い。\n- 四段: 書**く**（終止）= 書**く**（連体）\n- 下二段: 受**く**（終止）≠ 受**くる**（連体）"
            },
            {
                "heading": "代表的な下二段動詞",
                "content": "- **カ行**: 受く・助く・分く\n- **タ行**: 捨つ・立つ（他動詞）\n- **ナ行**: 寝（ぬ）・ 重ぬ\n- **ハ行**: いらふ（答ふ）・与ふ\n- **マ行**: 求む・始む\n- **ヤ行**: 燃ゆ・覚ゆ・消ゆ"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s3",
                "tokenId": "s3-t10",
                "excerpt": "**\u5bdd**\u3056\u3089\u3080\u3082",
                "explanation": "\u300c\u5bdd\uff08\u306c\uff09\u300d\uff08\u30ca\u884c\u4e0b\u4e8c\u6bb5\uff09\u306e\u672a\u7136\u5f62\u3002\u6253\u6d88\u300c\u305a\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u672a\u7136\u5f62\u3002"
            },
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s4",
                "tokenId": "s4-t7",
                "excerpt": "**\u3044\u3089\u3078**\u3080",
                "explanation": "\u300c\u3044\u3089\u3075\u300d\uff08\u30cf\u884c\u4e0b\u4e8c\u6bb5\uff09\u306e\u672a\u7136\u5f62\u3002\u63a8\u91cf\u300c\u3080\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u672a\u7136\u5f62\u3002"
            }
        ]
    },
    {
        "id": "doushi-kami-ichidan",
        "title": "上一段活用",
        "category": "用言",
        "layer": 1,
        "summary": "活用語尾が全てイ段で変わらない特殊な活用型。数が少ない。",
        "sections": [
            {
                "heading": "上一段活用とは",
                "content": "上一段活用は、活用語尾が全て**イ段のみ**で変化する活用型。「上」はウ段より上のイ段、「一段」は1つの段のみを使うことを意味する。\n\n古文では数が少なく、暗記すべき動詞が限られている。"
            },
            {
                "heading": "活用表",
                "content": "例: 「見る」（マ行上一段）\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| 見 | 見 | 見**る** | 見**る** | 見**れ** | 見**よ** |\n\n**特徴**: 未然形・連用形が語幹と同じ形。終止形に「る」が付く。"
            },
            {
                "heading": "暗記すべき上一段動詞",
                "content": "古文の上一段動詞は少数で、語呂合わせ「**ひいきにみいる**」で覚える。\n\n- **干（ひ）る**: ハ行\n- **射（い）る**: ヤ行\n- **着（き）る**: カ行\n- **似（に）る**: ナ行\n- **見（み）る**: マ行\n- **居（ゐ）る**: ワ行\n- **率（ゐ）る**: ワ行\n\n**注意**: 現代語の「起きる」「落ちる」などは古文では上二段活用。"
            },
            {
                "heading": "見分け方",
                "content": "「ず」を付けて**未然形がイ段1音**なら上一段。\n\n- 見る → 見**ず** → 「み」（イ段1音）→ 上一段\n\n上二段との違い: 上二段の未然形は「起き**ず**」のように2音以上。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s4",
                "tokenId": "s4-t3",
                "excerpt": "**\u304d**\u306c\u3082\u306e\u306a\u308c\u3070",
                "explanation": "\u300c\u7740\u308b\u300d\uff08\u30ab\u884c\u4e0a\u4e00\u6bb5\uff09\u306e\u672a\u7136\u5f62\u3002\u6253\u6d88\u300c\u305a\u300d\u306b\u63a5\u7d9a\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s12",
                "tokenId": "s12-t2",
                "excerpt": "\u4eca**\u898b\u308c**\u3070",
                "explanation": "\u300c\u898b\u308b\u300d\uff08\u30de\u884c\u4e0a\u4e00\u6bb5\uff09\u306e\u5df2\u7136\u5f62\u3002\u300c\u3070\u300d\u306b\u63a5\u7d9a\u3002"
            }
        ]
    },
    {
        "id": "doushi-kahen",
        "title": "カ行変格活用",
        "category": "用言",
        "layer": 1,
        "summary": "「来（く）」一語のみの不規則活用。",
        "sections": [
            {
                "heading": "カ行変格活用とは",
                "content": "カ行変格活用（カ変）は、**「来（く）」一語のみ**の不規則な活用型。他のどの活用型にも当てはまらない特殊な変化をする。"
            },
            {
                "heading": "活用表",
                "content": "| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **こ** | **き** | **く** | **くる** | **くれ** | **こ（こよ）** |\n\n**特徴**: 「こ・き・く・くる・くれ・こ（こよ）」と全て異なる音で変化する。読み方も「く」「き」「こ」と変わるので注意。"
            },
            {
                "heading": "複合動詞",
                "content": "「来」を含む複合動詞もカ変活用する。\n\n- **出で来（いでく）**: 出て来る → 出で**こ**・出で**き**・出で**く**…\n- **持て来（もてく）**: 持って来る"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s2",
                "tokenId": "s2-t6",
                "excerpt": "**\u3044\u3067\u304d**\u306b\u3051\u308a",
                "explanation": "\u300c\u51fa\u3067\u6765\uff08\u3044\u3067\u304f\uff09\u300d\u306e\u9023\u7528\u5f62\u3002\u300c\u304f\u300d\u304c\u30ab\u5909\u3002\u300c\u3051\u308a\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u9023\u7528\u5f62\u300c\u304d\u300d\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s10",
                "tokenId": "s10-t3",
                "excerpt": "\u3068\u3076\u3089\u3072\u306b**\u6765**\u305f\u308b",
                "explanation": "\u300c\u6765\uff08\u304f\uff09\u300d\uff08\u30ab\u5909\uff09\u306e\u9023\u7528\u5f62\u300c\u304d\u300d\u3002\u300c\u305f\u308a\u300d\u306b\u63a5\u7d9a\u3002"
            }
        ]
    },
    {
        "id": "doushi-sahen",
        "title": "サ行変格活用",
        "category": "用言",
        "layer": 1,
        "summary": "「す」「おはす」など少数の動詞の不規則活用。",
        "sections": [
            {
                "heading": "サ行変格活用とは",
                "content": "サ行変格活用（サ変）は、**「す」「おはす」**などの不規則な活用型。現代語の「する」に相当する。"
            },
            {
                "heading": "活用表",
                "content": "| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **せ** | **し** | **す** | **する** | **すれ** | **せよ** |\n\n**特徴**: 「せ・し・す・する・すれ・せよ」と全て異なる。"
            },
            {
                "heading": "「す」と複合動詞",
                "content": "「す」を含む複合動詞はすべてサ変。\n\n- **御覧ず（ごらんず）**: ご覧になる\n- **奏す（そうす）**: 天皇に申し上げる\n- **念ず（ねんず）**: 祈る・我慢する\n\n**注意**: 「おはす」もサ変活用: おはせ・おはし・おはす・おはする…"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s1",
                "tokenId": "s1-t13",
                "excerpt": "ぼたもち\u3092**\u305b**\u3080",
                "explanation": "\u300c\u3059\u300d\uff08\u30b5\u5909\uff09\u306e\u672a\u7136\u5f62\u300c\u305b\u300d\u3002\u4f7f\u5f79\u300c\u3080\u300d\u306b\u63a5\u7d9a\u3002"
            }
        ]
    },
    {
        "id": "doushi-rahen",
        "title": "ラ行変格活用",
        "category": "用言",
        "layer": 1,
        "summary": "「あり」「をり」「はべり」「いまそかり」の4語のみの活用型。",
        "sections": [
            {
                "heading": "ラ行変格活用とは",
                "content": "ラ行変格活用（ラ変）は、**「あり」「をり」「はべり」「いまそかり」**の4語のみの活用型。\n\n**最大の特徴**: 終止形が**「り」**で終わる（他の動詞は「ウ段」で終わる）。"
            },
            {
                "heading": "活用表",
                "content": "| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **ら** | **り** | **り** | **る** | **れ** | **れ** |\n\n例: 「あり」→ あ**ら**・あ**り**・あ**り**・あ**る**・あ**れ**・あ**れ**\n\n**重要**: 終止形が「り」（イ段）で終わることが、助動詞の接続判断で重要。"
            },
            {
                "heading": "ラ変動詞一覧",
                "content": "- **あり**: ある・いる\n- **をり**: いる（座っている）\n- **はべり**: おります（丁寧語）\n- **いまそかり**: いらっしゃる（尊敬語）\n\nこれらは**存在**を表す動詞。敬語のレベルが異なる。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s1",
                "tokenId": "s1-t10",
                "excerpt": "\u4e0a\u624b\u306b**\u3042\u308a**\u3051\u308a",
                "explanation": "\u300c\u3042\u308a\u300d\uff08\u30e9\u5909\uff09\u306e\u9023\u7528\u5f62\u3002\u300c\u3051\u308a\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u9023\u7528\u5f62\u3002\u7d42\u6b62\u5f62\u3082\u300c\u308a\u300d\u3060\u304c\u3001\u3053\u3053\u306f\u63a5\u7d9a\u306e\u5f62\u304b\u3089\u9023\u7528\u5f62\u3068\u5224\u65ad\u3002"
            }
        ]
    },
    # ============================================================
    # 形容詞 (Layer 1 - 用言)
    # ============================================================
    {
        "id": "keiyoshi-ku",
        "title": "形容詞 ク活用",
        "category": "用言",
        "layer": 1,
        "summary": "語幹が客観的な状態を表す形容詞の活用型。",
        "sections": [
            {
                "heading": "ク活用とは",
                "content": "ク活用は、古文形容詞の2つの活用型のうちの1つ。語幹が主に**客観的・外的な状態**を表す傾向がある。\n\n**本活用**と**補助活用（カリ活用）**の2系統がある。"
            },
            {
                "heading": "活用表",
                "content": "例: 「よし」（良い）\n\n**本活用:**\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| （よく） | よ**く** | よ**し** | よ**き** | よ**けれ** | − |\n\n**補助活用（カリ活用）:**\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| よ**から** | よ**かり** | − | よ**かる** | − | よ**かれ** |\n\n**使い分け**: 助動詞に接続するときは**カリ活用**を使う。"
            },
            {
                "heading": "代表的なク活用形容詞",
                "content": "- **よし**: 良い\n- **あし**: 悪い\n- **わろし**: 下手だ・つまらない\n- **多し**: 多い\n- **高し**: 高い\n- **白し**: 白い\n- **遠し**: 遠い\n- **早し**: 早い"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s9",
                "tokenId": "s9-t12",
                "excerpt": "**\u308f\u308d\u304f**\u66f8\u304d\u3051\u308b",
                "explanation": "\u300c\u308f\u308d\u3057\u300d\uff08\u30af\u6d3b\u7528\uff09\u306e\u9023\u7528\u5f62\u3002\u52d5\u8a5e\u300c\u66f8\u304f\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u9023\u7528\u5f62\u3002"
            }
        ]
    },
    {
        "id": "keiyoshi-shiku",
        "title": "形容詞 シク活用",
        "category": "用言",
        "layer": 1,
        "summary": "語幹が感情・主観的な状態を表す形容詞の活用型。",
        "sections": [
            {
                "heading": "シク活用とは",
                "content": "シク活用は、古文形容詞の活用型の1つで、主に**感情・心理状態**を表す形容詞に多い。ク活用との違いは、連用形が「しく」、終止形が「し」になること。"
            },
            {
                "heading": "活用表",
                "content": "例: 「うれし」（嬉しい）\n\n**本活用:**\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| （うれしく） | うれ**しく** | うれ**し** | うれ**しき** | うれ**しけれ** | − |\n\n**補助活用（シカリ活用）:**\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| うれ**しから** | うれ**しかり** | − | うれ**しかる** | − | うれ**しかれ** |\n\n**使い分け**: ク活用と同様、助動詞に接続するときは**シカリ活用**を使う。"
            },
            {
                "heading": "代表的なシク活用形容詞",
                "content": "- **うれし**: 嬉しい\n- **かなし**: 悲しい・愛しい\n- **あさまし**: 驚きあきれた\n- **めでたし**: すばらしい\n- **をかし**: 趣がある・面白い\n- **いみじ**: たいへんだ・すばらしい\n- **恋し**: 恋しい\n- **ゆかし**: 見たい・知りたい"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s6",
                "tokenId": "s6-t1",
                "excerpt": "**\u3046\u308c\u3057**\u3068\u306f\u601d\u3078\u3069",
                "explanation": "\u300c\u3046\u308c\u3057\u300d\uff08\u30b7\u30af\u6d3b\u7528\uff09\u306e\u7d42\u6b62\u5f62\u3002\u611f\u60c5\u3092\u8868\u3059\u4ee3\u8868\u7684\u306a\u30b7\u30af\u6d3b\u7528\u5f62\u5bb9\u8a5e\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s10",
                "tokenId": "s10-t19",
                "excerpt": "**\u3042\u3055\u307e\u3057\u304d**\u3053\u3068\u304b\u306a",
                "explanation": "\u300c\u3042\u3055\u307e\u3057\u300d\uff08\u30b7\u30af\u6d3b\u7528\uff09\u306e\u9023\u4f53\u5f62\u3002\u4f53\u8a00\u300c\u3053\u3068\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u9023\u4f53\u5f62\u3002"
            }
        ]
    },
    # ============================================================
    # 助動詞 (Layer 2)
    # ============================================================
    {
        "id": "jodoshi-mu",
        "title": "助動詞「む」",
        "category": "助動詞",
        "layer": 2,
        "summary": "推量・意志・勧誘・仮定・婉曲の意味を持つ助動詞。未然形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**未然形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| − | − | **む** | **む** | **め** | − |\n\n**活用型**: 四段型（ただし未然形・連用形は使わない）\n\n終止形と連体形が同形「む」。"
            },
            {
                "heading": "意味の判別",
                "content": "「む」は文脈によって**5つの意味**を持つ。\n\n| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **推量** | 〜だろう | 主語が三人称 |\n| **意志** | 〜しよう | 主語が一人称 |\n| **勧誘** | 〜しませんか | 主語が二人称 |\n| **仮定** | 〜としたら | 連体形で「む＋体言」 |\n| **婉曲** | 〜ような | 連体形で「む＋体言」 |\n\n**覚え方**: 「**すいかかえ**」（推量・意志・勧誘・仮定・婉曲）"
            },
            {
                "heading": "「む」と「むず」",
                "content": "「むず（んず）」は「む」の強調形で、意味はほぼ同じ。\n\n- む → 柔らかい推量\n- むず → より確実な推量・強い意志"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s1",
                "tokenId": "s1-t14",
                "excerpt": "\u307c\u305f\u3082\u3061\u3092\u305b**\u3080**",
                "explanation": "\u63a8\u91cf\u306e\u300c\u3080\u300d\u3002\u4e3b\u8a9e\u304c\u4e09\u4eba\u79f0\uff08\u50e7\u305f\u3061\uff09\u306a\u306e\u3067\u300c\uff5e\u3060\u308d\u3046\u300d\u3002"
            },
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s4",
                "tokenId": "s4-t8",
                "excerpt": "\u3044\u3089\u3078**\u3080**",
                "explanation": "\u610f\u5fd7\u306e\u300c\u3080\u300d\u3002\u4e3b\u8a9e\u304c\u4e00\u4eba\u79f0\uff08\u5150\uff09\u306a\u306e\u3067\u300c\uff5e\u3057\u3088\u3046\u300d\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-beshi",
        "title": "助動詞「べし」",
        "category": "助動詞",
        "layer": 2,
        "summary": "推量・当然・可能・命令・意志・適当の意味を持つ助動詞。終止形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**終止形**に付く。（ラ変型は**連体形**に付く）\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| べ**から** | べ**く**（べ**かり**） | べ**し** | べ**き** | べ**けれ** | − |\n\n**活用型**: 形容詞ク活用型"
            },
            {
                "heading": "意味の判別",
                "content": "「べし」は文脈によって**6つの意味**を持つ。\n\n| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **推量** | きっと〜だろう | 確信のある推量 |\n| **当然** | 〜すべきだ | 義務・道理 |\n| **可能** | 〜できる | 能力 |\n| **命令** | 〜せよ | 強い指示 |\n| **意志** | 〜しよう | 決意 |\n| **適当** | 〜するのがよい | 助言 |\n\n**覚え方**: 「**すいかとめて**」（推量・意志・可能・当然・命令・適当）"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s10",
                "tokenId": "s10-t16",
                "excerpt": "\u304a\u306f\u3057\u307e\u3059**\u3079\u304d**\u304b",
                "explanation": "\u5f53\u7136\u306e\u300c\u3079\u3057\u300d\u306e\u9023\u4f53\u5f62\u3002\u300c\uff5e\u3057\u3066\u3088\u3044\u306e\u304b\u300d\u3068\u3044\u3046\u53cd\u8a9e\u7684\u8868\u73fe\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-keri",
        "title": "助動詞「けり」",
        "category": "助動詞",
        "layer": 2,
        "summary": "過去（伝聞過去）と詠嘆を表す助動詞。連用形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**連用形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| （けら） | − | **けり** | **ける** | **けれ** | − |\n\n**活用型**: ラ変型"
            },
            {
                "heading": "意味の判別",
                "content": "| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **過去（伝聞）** | 〜た（という） | 物語の地の文、他人の体験 |\n| **詠嘆** | 〜だなあ | 和歌、感動の文脈 |\n\n**「き」との違い**:\n- **き**: 体験過去（自分が経験した過去）\n- **けり**: 伝聞過去（他人から聞いた・物語の過去）+ 詠嘆\n\n物語の「〜けり」は**語り手が伝える過去**なので、昔話の「むかし〜ありけり」に使われる。"
            },
            {
                "heading": "係り結びとの関係",
                "content": "- 「ぞ」「なむ」 → 連体形「**ける**」\n- 「こそ」 → 已然形「**けれ**」\n\n例: 「…と言ひ**ける**とぞ」（…と言ったということだ）"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s1",
                "tokenId": "s1-t18",
                "excerpt": "\u8a00\u3072**\u3051\u308b**\u3092",
                "explanation": "\u904e\u53bb\uff08\u4f1d\u805e\uff09\u306e\u300c\u3051\u308a\u300d\u306e\u9023\u4f53\u5f62\u3002\u7269\u8a9e\u306e\u8a9e\u308a\u306e\u904e\u53bb\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s1",
                "tokenId": "s1-t11",
                "excerpt": "\u4e0a\u624b\u306b\u3042\u308a**\u3051\u308a**",
                "explanation": "\u904e\u53bb\uff08\u4f1d\u805e\uff09\u306e\u300c\u3051\u308a\u300d\u306e\u7d42\u6b62\u5f62\u3002\u7269\u8a9e\u306e\u66f8\u304d\u51fa\u3057\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-tari",
        "title": "助動詞「たり」",
        "category": "助動詞",
        "layer": 2,
        "summary": "完了と存続を表す助動詞。連用形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**連用形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **たら** | **たり** | **たり** | **たる** | **たれ** | **たれ** |\n\n**活用型**: ラ変型"
            },
            {
                "heading": "意味の判別",
                "content": "| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **完了** | 〜た・〜してしまった | 動作が終わった |\n| **存続** | 〜ている・〜てある | 結果が続いている |\n\n**「たり」と「り」の違い**:\n- **たり**: 連用形接続。より広く使われる。\n- **り**: サ変の未然形・四段の已然形に接続（「さみしい（サミシイ）」で覚える）。"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s4",
                "tokenId": "s4-t4",
                "excerpt": "\u8d77\u3053\u3057**\u305f\u3089**\u3070",
                "explanation": "\u5b8c\u4e86\u306e\u300c\u305f\u308a\u300d\u306e\u672a\u7136\u5f62\u3002\u300c\u3070\u300d\u306b\u63a5\u7d9a\u3057\u3066\u4eee\u5b9a\u6761\u4ef6\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s10",
                "tokenId": "s10-t4",
                "excerpt": "\u6765**\u305f\u308b**\u8005\u3069\u3082",
                "explanation": "\u5b58\u7d9a\u306e\u300c\u305f\u308a\u300d\u306e\u9023\u4f53\u5f62\u3002\u300c\uff5e\u3066\u3044\u308b\u300d\u306e\u610f\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-nu",
        "title": "助動詞「ぬ」（完了）",
        "category": "助動詞",
        "layer": 2,
        "summary": "完了・強意を表す助動詞。連用形に接続。打消の「ず」の連体形「ぬ」と区別が重要。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**連用形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **な** | **に** | **ぬ** | **ぬる** | **ぬれ** | **ね** |\n\n**活用型**: ナ変型"
            },
            {
                "heading": "意味",
                "content": "| 意味 | 訳 | 用法 |\n|:--|:--|:--|\n| **完了** | 〜た・〜てしまった | 自然な完了 |\n| **強意** | きっと〜 | 「ぬ＋べし」「な＋む」の組み合わせ |\n\n**「つ」との違い**:\n- **ぬ**: 自然な完了（なりゆき）\n- **つ**: 意図的な完了（人為的）"
            },
            {
                "heading": "打消「ぬ」との識別",
                "content": "**最重要**: 完了の「ぬ」と打消の「ぬ」の識別。\n\n| | 完了「ぬ」 | 打消「ず」の連体形「ぬ」 |\n|:--|:--|:--|\n| **接続** | 連用形に付く | 未然形に付く |\n| **活用** | ナ変型 | 特殊型 |\n\n**判別法**: 直前の動詞が**連用形**なら完了、**未然形**なら打消。\n\n例:\n- 花**咲き**ぬ → 連用形 → 完了（花が咲いた）\n- 花**咲か**ぬ → 未然形 → 打消（花が咲かない）"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s7",
                "tokenId": "s7-t5",
                "excerpt": "\u3072\u3057\u3072\u3057\u3068\u3072\u304d\u3064\u3051\u3066\u3001\u7e70\u308a\u8fd4\u3057\u7e70\u308a\u8fd4\u3057",
                "explanation": "\u5b8c\u4e86\u306e\u300c\u306c\u300d\u3002\u81ea\u7136\u306a\u5b8c\u4e86\u3092\u8868\u3059\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-tsu",
        "title": "助動詞「つ」（完了）",
        "category": "助動詞",
        "layer": 2,
        "summary": "意図的な完了・強意を表す助動詞。連用形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**連用形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **て** | **て** | **つ** | **つる** | **つれ** | **てよ** |\n\n**活用型**: 下二段型"
            },
            {
                "heading": "意味",
                "content": "| 意味 | 訳 | 用法 |\n|:--|:--|:--|\n| **完了** | 〜た・〜してしまった | 意図的な完了 |\n| **強意** | きっと〜 | 「て＋む」の組み合わせ |\n\n**「ぬ」との使い分け**:\n- **つ**: 意図的・人為的な完了（「自分でした」ニュアンス）\n- **ぬ**: 自然的・自発的な完了（「なりゆきで」ニュアンス）\n\nただし、この区別は厳密でなく、実際には混用も多い。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s9",
                "tokenId": "s9-t5",
                "excerpt": "\u5f97**\u3064\u308b**\u3053\u3068\u3042\u308a",
                "explanation": "\u5b8c\u4e86\u306e\u300c\u3064\u300d\u306e\u9023\u4f53\u5f62\u3002\u300c\uff5e\u3057\u3066\u3057\u307e\u3063\u305f\u300d\u306e\u610f\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-zu",
        "title": "助動詞「ず」（打消）",
        "category": "助動詞",
        "layer": 2,
        "summary": "動作・状態の否定を表す助動詞。未然形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: 動詞・助動詞の**未然形**に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **ず** | **ず** | **ず** | **ぬ** | **ね** | − |\n\n**補助活用（ザリ活用）:**\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **ざら** | **ざり** | − | **ざる** | **ざれ** | **ざれ** |\n\n**使い分け**: 助動詞に接続するときは**ザリ活用**を使う。"
            },
            {
                "heading": "意味",
                "content": "**打消**: 〜ない\n\n- 行かず → 行かない\n- 見えず → 見えない\n- あらず → ない（存在しない）"
            },
            {
                "heading": "重要な識別",
                "content": "**連体形「ぬ」に注意**: 完了の助動詞「ぬ」と打消の「ず」の連体形「ぬ」は同形。\n\n**判別法**: 直前の動詞の活用形で判断。\n- 連用形＋ぬ → **完了**\n- 未然形＋ぬ → **打消**"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s3",
                "tokenId": "s3-t11",
                "excerpt": "\u5bdd**\u3056\u3089**\u3080\u3082",
                "explanation": "\u6253\u6d88\u300c\u305a\u300d\u306e\u30b6\u30ea\u6d3b\u7528\u672a\u7136\u5f62\u300c\u3056\u3089\u300d\u3002\u63a8\u91cf\u300c\u3080\u300d\u306b\u63a5\u7d9a\u3059\u308b\u305f\u3081\u672a\u7136\u5f62\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s4",
                "tokenId": "s4-t4",
                "excerpt": "\u304d**\u306c**\u3082\u306e\u306a\u308c\u3070",
                "explanation": "\u6253\u6d88\u300c\u305a\u300d\u306e\u9023\u4f53\u5f62\u300c\u306c\u300d\u3002\u672a\u7136\u5f62\u300c\u304d\u300d\u306b\u63a5\u7d9a\u3057\u3066\u3044\u308b\u306e\u3067\u6253\u6d88\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-ru",
        "title": "助動詞「る」「らる」（受身・自発・可能・尊敬）",
        "category": "助動詞",
        "layer": 2,
        "summary": "受身・自発・可能・尊敬の4つの意味を持つ助動詞。未然形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**「る」の接続**: 四段・ナ変・ラ変の**未然形**に付く。\n**「らる」の接続**: 上記以外（上一段・上二段・下一段・下二段・カ変・サ変）の**未然形**に付く。\n\n「る」の活用（下二段型）:\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **れ** | **れ** | **る** | **るる** | **るれ** | **れよ** |"
            },
            {
                "heading": "意味の判別",
                "content": "| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **受身** | 〜される | 動作の受け手が主語 |\n| **自発** | 自然と〜される | 感情・思考の動詞に多い |\n| **可能** | 〜できる | 打消を伴うことが多い |\n| **尊敬** | 〜なさる | 主語が身分の高い人 |\n\n**判別の優先順位**:\n1. 主語が高貴な人 → **尊敬**\n2. 心理動詞（思ふ・偲ぶなど） → **自発**\n3. 打消を伴う → **可能**\n4. その他 → **受身**"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s4",
                "tokenId": "s4-t3",
                "excerpt": "**\u308c**\u305f\u3089\u3070",
                "explanation": "\u53d7\u8eab\u306e\u300c\u308b\u300d\u306e\u672a\u7136\u5f62\u300c\u308c\u300d\u3002\u300c\u8d77\u3053\u3055\u308c\u305f\u3089\u300d\u306e\u610f\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-su",
        "title": "助動詞「す」「さす」（使役・尊敬）",
        "category": "助動詞",
        "layer": 2,
        "summary": "使役と尊敬の意味を持つ助動詞。未然形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**「す」の接続**: 四段・ナ変・ラ変の**未然形**に付く。\n**「さす」の接続**: 上記以外の**未然形**に付く。\n\n「す」の活用（下二段型）:\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **せ** | **せ** | **す** | **する** | **すれ** | **せよ** |"
            },
            {
                "heading": "意味の判別",
                "content": "| 意味 | 訳 | 判別のポイント |\n|:--|:--|:--|\n| **使役** | 〜させる | 「AにBを〜させる」の構文 |\n| **尊敬** | 〜なさる | 主語が身分の高い人 |\n\n**注意**: 「る・らる」の尊敬と「す・さす」の尊敬は区別が難しいことがある。「す・さす」の尊敬は「しむ」と合わせて「させなさる」と二重敬語になることも多い。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s3",
                "tokenId": "s3-t4",
                "excerpt": "\u4ecf\u3092\u4f5c\u3089\u305b**\u3051\u308b**",
                "explanation": "\u4f7f\u5f79\u306e\u300c\u3059\u300d\u306e\u9023\u7528\u5f62\u300c\u305b\u300d\u306b\u300c\u3051\u308a\u300d\u304c\u63a5\u7d9a\u3002\u300c\uff5e\u3055\u305b\u305f\u300d\u306e\u610f\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-nari",
        "title": "助動詞「なり」（断定・伝聞推定）",
        "category": "助動詞",
        "layer": 2,
        "summary": "断定と伝聞推定の2つの「なり」。接続で区別する。",
        "sections": [
            {
                "heading": "2つの「なり」",
                "content": "古文には同じ「なり」でも**全く別の2つの助動詞**がある。\n\n| | 断定の「なり」 | 伝聞推定の「なり」 |\n|:--|:--|:--|\n| **接続** | 体言・連体形 | **終止形** |\n| **意味** | 〜だ・〜である | 〜らしい・〜ようだ |\n| **活用** | ナリ活用 | ナリ活用（形は同じ） |"
            },
            {
                "heading": "断定の「なり」",
                "content": "**接続**: 体言（名詞）または連体形に付く。\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **なら** | **なり**（**に**） | **なり** | **なる** | **なれ** | **なれ** |\n\n- 「〜なり」: 〜である\n- 「〜なれば」: 〜であるので\n- 「〜にて」: 〜であって（連用形「に」の用法）"
            },
            {
                "heading": "判別のポイント",
                "content": "**接続で判別**:\n- **連体形** + なり → **断定**（「咲く**る**なり」→ 「咲くのである」）\n- **終止形** + なり → **伝聞推定**（「咲く**∅**なり」→ 「咲くようだ」）\n\n**ラ変型動詞に注意**: ラ変の終止形は「り」なので、「あり」+ なり → 「ある**なり**」のように連体形に見えるが伝聞推定の場合がある。文脈で判断。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s12",
                "tokenId": "s12-t13",
                "excerpt": "\u5fc3\u5f97\u3064\u308b**\u306a\u308a**",
                "explanation": "\u65ad\u5b9a\u306e\u300c\u306a\u308a\u300d\u306e\u7d42\u6b62\u5f62\u3002\u300c\uff5e\u306e\u3060\u300d\u306e\u610f\u3002"
            }
        ]
    },
    {
        "id": "jodoshi-ri",
        "title": "助動詞「り」（完了・存続）",
        "category": "助動詞",
        "layer": 2,
        "summary": "完了・存続を表す助動詞。サ変未然形・四段已然形に接続。",
        "sections": [
            {
                "heading": "接続と活用",
                "content": "**接続**: **サ変の未然形**・**四段の已然形**に付く。\n\n覚え方: 「**さみしい（サミシイ）**」→ サ変未然形・已然形（四段）\n\n| 未然形 | 連用形 | 終止形 | 連体形 | 已然形 | 命令形 |\n|:--|:--|:--|:--|:--|:--|\n| **ら** | **り** | **り** | **る** | **れ** | **れ** |\n\n**活用型**: ラ変型"
            },
            {
                "heading": "意味",
                "content": "| 意味 | 訳 |\n|:--|:--|\n| **完了** | 〜た |\n| **存続** | 〜ている・〜てある |\n\n「たり」とほぼ同じ意味だが、接続が限定的。"
            },
            {
                "heading": "「たり」との違い",
                "content": "- **り**: サ変未然形・四段已然形のみに接続（限定的）\n- **たり**: 連用形に広く接続（汎用的）\n\n結果として表す意味は同じだが、接続できる動詞の範囲が異なる。"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s5",
                "tokenId": "s5-t17",
                "excerpt": "\u5bb6\u3082\u7126\u3051\u306b\u3051**\u308a**",
                "explanation": "\u5b58\u7d9a\u306e\u300c\u308a\u300d\u3002\u56db\u6bb5\u306e\u5df2\u7136\u5f62\u300c\u3051\u300d\u306b\u63a5\u7d9a\u3002\u300c\uff5e\u3066\u3044\u308b\u300d\u306e\u610f\u3002"
            }
        ]
    },
    # ============================================================
    # 助詞 (Layer 3)
    # ============================================================
    {
        "id": "joshi-fuku-kakari",
        "title": "係助詞・副助詞",
        "category": "助詞",
        "layer": 3,
        "summary": "「は」「も」「ぞ」「なむ」「や」「か」「こそ」など、文に強調・疑問などの意味を添える助詞。",
        "sections": [
            {
                "heading": "係助詞とは",
                "content": "係助詞は文中に置かれ、文末の活用形を決定する（**係り結び**）助詞。\n\n| 係助詞 | 意味 | 結びの活用形 |\n|:--|:--|:--|\n| **ぞ** | 強調 | 連体形 |\n| **なむ** | 強調（やや弱い） | 連体形 |\n| **や** | 疑問・反語 | 連体形 |\n| **か** | 疑問・反語 | 連体形 |\n| **こそ** | 強調（最強） | **已然形** |"
            },
            {
                "heading": "副助詞",
                "content": "副助詞は文に意味を添えるが、係り結びは起こさない。\n\n| 副助詞 | 意味 |\n|:--|:--|\n| **は** | 主題・対比 |\n| **も** | 類推・並列 |\n| **だに** | せめて〜だけでも |\n| **すら** | 〜でさえ |\n| **さへ** | 〜までも |"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s1",
                "tokenId": "s1-t6",
                "excerpt": "\u3053\u306e\u5150**\u306f**",
                "explanation": "\u526f\u52a9\u8a5e\u300c\u306f\u300d\u3002\u4e3b\u984c\u3092\u63d0\u793a\u3059\u308b\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s11",
                "tokenId": "s11-t7",
                "excerpt": "\u3053\u308c**\u3053\u305d**\u3001\u5e74\u3054\u308d\u3001\u4e0d\u52d5\u5c0a\u306e\u706b\u708e\u3092\u2026\u3042\u3057\u304f\u66f8\u304d\u3051\u308b\u306a\u308c",
                "explanation": "\u4fc2\u52a9\u8a5e\u300c\u3053\u305d\u300d\u3002\u6587\u672b\u300c\u306a\u308c\u300d\u304c\u5df2\u7136\u5f62\u3067\u7d50\u3076\uff08\u4fc2\u308a\u7d50\u3073\uff09\u3002"
            }
        ]
    },
    {
        "id": "joshi-shujoshi",
        "title": "終助詞",
        "category": "助詞",
        "layer": 3,
        "summary": "文末に付いて、詠嘆・願望・禁止などの意味を添える助詞。",
        "sections": [
            {
                "heading": "主な終助詞",
                "content": "| 終助詞 | 意味 | 接続 |\n|:--|:--|:--|\n| **かな** | 詠嘆（〜だなあ） | 体言・連体形 |\n| **よ** | 詠嘆・呼びかけ | 体言・終止形 |\n| **ぞ** | 念押し | 終止形 |\n| **な…そ** | 禁止（〜するな） | 連用形 |\n| **ばや** | 願望（〜したい） | 未然形 |\n| **なむ** | 願望（〜してほしい） | 未然形 |\n| **もがな** | 願望（〜があったらなあ） | 体言 |"
            },
            {
                "heading": "詠嘆の「かな」",
                "content": "「かな」は古文で最も頻出する終助詞の一つ。和歌・物語で感動を表す。\n\n- 「あさましきこと**かな**」（驚きあきれたことだなあ）\n- 「美しき花**かな**」（美しい花だなあ）"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s9",
                "tokenId": "s9-t16",
                "excerpt": "\u308f\u308d\u304f\u66f8\u304d\u3051\u308b\u3082\u306e**\u304b\u306a**",
                "explanation": "\u8a60\u5606\u306e\u7d42\u52a9\u8a5e\u300c\u304b\u306a\u300d\u3002\u300c\uff5e\u3060\u306a\u3042\u300d\u3068\u3044\u3046\u611f\u52d5\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s12",
                "tokenId": "s12-t19",
                "excerpt": "\u305b\u3046\u3068\u304f**\u3088**",
                "explanation": "\u8a60\u5606\u306e\u7d42\u52a9\u8a5e\u300c\u3088\u300d\u3002\u300c\uff5e\u3060\u3088\u300d\u3068\u3044\u3046\u547c\u3073\u304b\u3051\u3002"
            }
        ]
    },
    {
        "id": "kakari-musubi",
        "title": "係り結び",
        "category": "助詞",
        "layer": 3,
        "summary": "係助詞と文末の活用形が呼応する古文特有の文法現象。",
        "sections": [
            {
                "heading": "係り結びとは",
                "content": "文中の**係助詞**が、文末の**活用形**を決定する現象を「係り結び」という。古文特有の重要な文法規則。\n\n通常の文末は**終止形**だが、係助詞があると変化する。"
            },
            {
                "heading": "係り結びの法則",
                "content": "| 係助詞 | 文末の活用形 | 意味 |\n|:--|:--|:--|\n| **ぞ** | **連体形** | 強調 |\n| **なむ** | **連体形** | 強調（やや柔らかい） |\n| **や** | **連体形** | 疑問・反語 |\n| **か** | **連体形** | 疑問・反語 |\n| **こそ** | **已然形** | 強調（最も強い） |\n\n**覚え方**: 「ぞ・なむ・や・か」→ 連体形、「こそ」→ 已然形"
            },
            {
                "heading": "係り結びの例",
                "content": "- 花**ぞ**咲き**ける**（花が咲いた**のだ**）→ 連体形で結ぶ\n- これ**こそ**…書き**ける**なれ → 已然形で結ぶ\n- 何**か**思ひ**ける** → 連体形で結ぶ"
            },
            {
                "heading": "係り結びの消滅",
                "content": "文中の係助詞が**接続助詞**を挟んで文末に届かない場合、係り結びは消滅（途絶）する。\n\n例: 「花ぞ咲きて、散りぬ」（「ぞ」があるが「て」で分断され、「ぬ」は終止形のまま）"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s11",
                "tokenId": "s11-t4",
                "excerpt": "\u306a\u3093\u3067\u3075\u3082\u306e\u72c2\u3072**\u305e**",
                "explanation": "\u4fc2\u52a9\u8a5e\u300c\u305e\u300d\u3002\u5f37\u8abf\u3002\u6587\u672b\u306f\u9023\u4f53\u5f62\u3067\u7d50\u3076\u3002"
            },
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s11",
                "tokenId": "s11-t7",
                "excerpt": "\u3053\u308c**\u3053\u305d**\u3001\u2026\u66f8\u304d\u3051\u308b**\u306a\u308c**",
                "explanation": "\u4fc2\u52a9\u8a5e\u300c\u3053\u305d\u300d\u3002\u6700\u3082\u5f37\u3044\u5f37\u8abf\u3002\u6587\u672b\u300c\u306a\u308c\u300d\u304c\u5df2\u7136\u5f62\u3067\u7d50\u3076\u3002"
            }
        ]
    },
    # ============================================================
    # 敬語 (Layer 4)
    # ============================================================
    {
        "id": "keigo-sonkei",
        "title": "尊敬語",
        "category": "敬語",
        "layer": 4,
        "summary": "動作の主体（する人）を高めて敬意を表す表現。",
        "sections": [
            {
                "heading": "尊敬語とは",
                "content": "尊敬語は、**動作をする人（主体）**を高めて敬意を表す表現。「〜なさる」「お〜になる」に相当する。\n\n**敬意の方向**: 話し手 → 動作の主体（身分の高い人）"
            },
            {
                "heading": "主な尊敬語動詞",
                "content": "| 尊敬語 | 意味 | 対応する一般語 |\n|:--|:--|:--|\n| **おはす・おはします** | いらっしゃる | あり・をり |\n| **のたまふ** | おっしゃる | 言ふ |\n| **御覧ず** | ご覧になる | 見る |\n| **聞こし召す** | お聞きになる・召し上がる | 聞く・食ふ |\n| **大殿籠る** | おやすみになる | 寝 |\n| **召す** | お呼びになる | 呼ぶ |\n| **思し召す** | お思いになる | 思ふ |"
            },
            {
                "heading": "補助動詞による尊敬",
                "content": "**〜給ふ（四段）**: 動詞の連用形に付いて尊敬を表す。\n- 「のたまひ**給ふ**」→ おっしゃいになる（二重敬語）\n- 「見**給ふ**」→ ご覧になる\n\n**〜る・〜らる**: 助動詞「る」「らる」の尊敬用法。\n- 「言は**れ**ける」→ おっしゃった\n\n**敬語の度合い**: 本動詞の尊敬語 ＞ 給ふ ＞ る・らる"
            }
        ],
        "textExamples": [
            {
                "textId": "ebutsu-shi-ryoshu",
                "sentenceId": "s10",
                "tokenId": "s10-t15",
                "excerpt": "\u304b\u304f\u3066\u306f**\u304a\u306f\u3057\u307e\u3059**\u3079\u304d\u304b",
                "explanation": "\u5c0a\u656c\u8a9e\u300c\u304a\u306f\u3057\u307e\u3059\u300d\u3002\u300c\u3044\u3089\u3063\u3057\u3083\u308b\u300d\u306e\u610f\u3002\u826f\u79c0\u306b\u5bfe\u3059\u308b\u656c\u610f\u3002"
            },
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s5",
                "tokenId": "s5-t9",
                "excerpt": "**\u305f\u307e\u3078**",
                "explanation": "\u5c0a\u656c\u8a9e\u300c\u7d66\u3075\u300d\uff08\u56db\u6bb5\uff09\u306e\u5df2\u7136\u5f62\u3002\u50e7\u306b\u5bfe\u3059\u308b\u656c\u610f\u3002"
            }
        ]
    },
    {
        "id": "keigo-kenjou",
        "title": "謙譲語",
        "category": "敬語",
        "layer": 4,
        "summary": "動作の主体（する人）を低めて、動作の対象に敬意を表す表現。",
        "sections": [
            {
                "heading": "謙譲語とは",
                "content": "謙譲語は、**動作をする人（主体）を低める**ことで、**動作の受け手（対象）**に敬意を表す表現。「〜申し上げる」「〜いたす」に相当する。\n\n**敬意の方向**: 動作の主体 → 動作の対象（身分の高い人）"
            },
            {
                "heading": "主な謙譲語動詞",
                "content": "| 謙譲語 | 意味 | 対応する一般語 |\n|:--|:--|:--|\n| **申す** | 申し上げる | 言ふ |\n| **奏す** | （天皇に）申し上げる | 言ふ |\n| **参る** | 参上する | 行く |\n| **まかる** | 退出する | 行く |\n| **奉る** | さしあげる | 与ふ |\n| **承る** | お受けする | 受く |\n| **つかまつる** | お仕えする | す |"
            },
            {
                "heading": "補助動詞による謙譲",
                "content": "**〜奉る**: 動詞の連用形に付いて謙譲を表す。\n- 「見**奉る**」→ 拝見する\n- 「仕え**奉る**」→ お仕え申し上げる\n\n**〜申す**: 動詞の連用形に付いて謙譲を表す。\n- 「言ひ**申す**」→ 申し上げる\n\n**〜聞こゆ**: 「〜申し上げる」\n- 「名のり**聞こゆ**」→ 名乗り申し上げる"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s5",
                "tokenId": "s5-t3",
                "excerpt": "**\u7533\u3057**\u3055\u3076\u3089\u306f\u3070",
                "explanation": "\u8b19\u8b72\u8a9e\u300c\u7533\u3059\u300d\u3002\u5150\u304c\u50e7\u306b\u5bfe\u3057\u3066\u300c\u7533\u3057\u4e0a\u3052\u308b\u300d\u610f\u3002"
            }
        ]
    },
    {
        "id": "keigo-teinei",
        "title": "丁寧語",
        "category": "敬語",
        "layer": 4,
        "summary": "聞き手（読者）に対して敬意を表す表現。",
        "sections": [
            {
                "heading": "丁寧語とは",
                "content": "丁寧語は、**聞き手・読者**に対して敬意を表す表現。「〜です」「〜ます」に相当する。\n\n**敬意の方向**: 話し手 → 聞き手（読者）\n\n尊敬語・謙譲語とは異なり、動作の主体や対象ではなく、**話を聞いている人**に対する敬意。"
            },
            {
                "heading": "主な丁寧語",
                "content": "| 丁寧語 | 意味 | 用法 |\n|:--|:--|:--|\n| **はべり** | 〜ございます・〜です | ラ変活用 |\n| **さぶらふ（候ふ）** | 〜ございます・〜です | ハ行四段活用 |\n\n**「はべり」と「さぶらふ」**:\n- どちらも丁寧語として「〜です」「〜ます」の意味\n- 本来は「はべり」＝「お側にいる」、「さぶらふ」＝「お仕えする」（謙譲語としての用法もある）\n- 会話文で使われることが多く、**聞き手への配慮**を示す"
            },
            {
                "heading": "敬語の組み合わせ",
                "content": "丁寧語は尊敬語・謙譲語と組み合わせて使われることが多い。\n\n- 「おはし**まし**はべる」→ いらっしゃいます（尊敬＋丁寧）\n- 「申し**さぶらふ**」→ 申し上げます（謙譲＋丁寧）"
            }
        ],
        "textExamples": [
            {
                "textId": "chigo-no-sorane",
                "sentenceId": "s5",
                "tokenId": "s5-t4",
                "excerpt": "\u7533\u3057**\u3055\u3076\u3089\u306f**\u3070",
                "explanation": "\u4e01\u5be7\u8a9e\u300c\u3055\u3076\u3089\u3075\u300d\u306e\u672a\u7136\u5f62\u3002\u5150\u304c\u50e7\u306b\u5bfe\u3057\u3066\u4e01\u5be7\u306b\u8a71\u3059\u5834\u9762\u3002"
            }
        ]
    },
]

def main():
    for g in GRAMMAR_FILES:
        path = os.path.join(OUT_DIR, g["id"] + ".json")
        with open(path, "w", encoding="utf-8") as f:
            json.dump(g, f, ensure_ascii=False, indent=2)
            f.write("\n")
        print("Created: %s" % g["id"])
    print("\nDone: %d files generated." % len(GRAMMAR_FILES))

if __name__ == "__main__":
    main()
