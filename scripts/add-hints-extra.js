const fs = require('fs');
const path = 'app/data/texts/chigo-no-sorane.json';
const d = JSON.parse(fs.readFileSync(path, 'utf-8'));

const hints = {
  // 助詞の重要ポイント（連続パターン・特殊用法）
  's1-t19': '接続助詞「を」: 逆接的に文を転換。この「を」で主語が「僧たち」→「この児」に切り替わる。',
  's4-t5': '接続助詞「ば」: 未然形＋「ば」＝順接仮定「もし〜たら」。已然形＋「ば」との区別が重要。',
  's6-t3': '係助詞「は」: 「うれしとは思へども」→対比「うれしいとは思うけれど」。逆接の「ども」との呼応。',
  's6-t5': '接続助詞「ども」: 逆接確定条件「〜けれども」。已然形に接続。',
  's6-t18': '副助詞「も」→係助詞「ぞ」:「もぞ」＝心配・懸念「〜したら困る」。「待ちけるかともぞ思ふ」＝待っていたのかと思われたら困る。',
  's6-t19': '係助詞「ぞ」: 「もぞ」の一部。強調の係助詞→結びは連体形「思ふ」。係り結びに注目。',
  's7-t8': '「とて」: 「〜しようとして」。意志の「む」＋引用の「とて」で動機を表す。',
  's8-t4': '副詞「な」＋終助詞「そ」: 「な起こしたてまつりそ」＝起こし申し上げるな。「な〜そ」で禁止表現。',
  's8-t7': '終助詞「そ」: 「な〜そ」禁止の後半。「な」と呼応して「〜するな」。',
  's8-t23': '接続助詞「ば」: 已然形＋「ば」＝順接確定「〜したので」。原因理由を表す。',
  's9-t11': '終助詞「かし」: 念押し・願望「〜してくれよ」。「起こせかし」＝起こしてくれよ。',
  's9-t16': '接続助詞「ば」: 已然形＋「ば」＝確定条件「〜すると」。',
  's10-t6': '副助詞「に」: 「食ひに食ふ」→強調「どんどん食べる」。反復強調の用法。',

  // 古文重要語（現代語と意味が異なる語）
  's5-t7': '重要語「おどろく」: 古文では「目を覚ます・はっとする」の意。現代語の「驚く」とは異なる。',
  's6-t1': '重要語「うれし」: 古文では「ありがたい・嬉しい」。起こしてもらえる喜びを表す。',
  's9-t3': '重要語「わびし」: 古文の重要感情語。「つらい・心細い・情けない」。ぼたもちを食べ損ねた悲しみ。',
  's10-t14': '重要語「ずちなし」:「すべなし」の変化形。「どうしようもない・仕方がない」。',
};

d.sentences.forEach(s => {
  s.tokens.forEach(t => {
    if (hints[t.id]) {
      t.hint = hints[t.id];
    }
  });
});

fs.writeFileSync(path, JSON.stringify(d, null, 2) + '\n', 'utf-8');
console.log('Added extra hints to ' + Object.keys(hints).length + ' tokens.');
